---
title: hw01-kexin-wan.rmd
author: "kexin wan"
date: "2017/9/21"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

```{r}
load("data/nba2017-salary-points.RData")
million_salary <- round(salary/1000000,2)
replace = replace(experience,experience=="R","0")
experience_new <- as.integer(replace)
position_new <- as.factor(position)

install.packages("plyr")
library(plyr)
position_updated <- mapvalues(position_new,from=c("C","SF","PF","SG","PG"),to=c("center","small_fwd","power_fwd","shoot_guard","point_guard"))
table(position_updated)
```
```{r}
?par
plot(points,million_salary,pch=19, col="orange",cex=0.5,xlab="NBA Points",ylab="Salary(in millions)",main="Scatter plot of points and salary")
```
There is a **positive linear relationship** existing between **points** and **salary**. That is, as the points for the player increases, his salary generally increases as well. However, there are still some **outliers** with high NBA points but relatively low salary.

```{r}
n=length(points)
x_average=sum(points)/length(points)
y_average=sum(million_salary)/length(million_salary)
var_x = (points-x_average)^2/(length(points)-1)
var_y = (points-y_average)^2/(length(million_salary)-1)
sd_x = var_x^(1/2)
sd_y = var_y^(1/2)
cov_x_y = (points-x_average)*(million_salary-y_average)/(length(points)-1)
cor_x_y = cov_x_y/(sd_x*sd_y)
```

```{r}
b1=cor_x_y*sd_y/sd_x
b0=y_average-b1*x_average
"y-hat"=b0+b1*(points)
```

